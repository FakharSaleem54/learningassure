<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport"content="width=device-width,initial-scale=1">
  <title>Verify Certificate - Learning Assure</title>
  <link rel="stylesheet" href="style.css">
  <script src="js/data.js"></script>
  <script src="js/main.js" defer></script>
</head>
<body id="page-verify">
  <!-- Header -->
  <header class="main-header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <img src="assets/images/logo.png" alt="Learning Assure">
        </div>
        <nav class="navbar">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="catalog.html">Courses</a></li>
            <li><a href="bundles.html">Bundles</a></li>
            <li><a href="learning_paths.html">Learning Paths</a></li>
            <li><a href="forum.html">Community</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
          </ul>
        </nav>
        <div class="user-menu">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="page-header">
      <h1>Verify Certificate</h1>
      <p>Check the authenticity of any Learning Assure certificate</p>
    </div>

    <!-- Verification Form -->
    <div class="verification-section">
      <div class="verification-card">
        <div class="verification-icon">üîç</div>
        <h2>Certificate Verification</h2>
        <p>Enter the certificate ID to verify its authenticity and view details.</p>

        <div class="verification-form">
          <div class="form-group">
            <label for="certificateId">Certificate ID</label>
            <input type="text" id="certificateId" class="input" placeholder="e.g. CERT-ABC123-XYZ789" maxlength="50">
            <small class="form-help">Find the certificate ID on your certificate document</small>
          </div>

          <button class="btn primary full-width" onclick="CertificateVerifier.verifyCertificate()">
            <span class="btn-icon">üîç</span>
            Verify Certificate
          </button>
        </div>
      </div>
    </div>

    <!-- Verification Result -->
    <div id="verificationResult" class="verification-result" style="display: none;">
      <!-- Result will be populated by JavaScript -->
    </div>

    <!-- How It Works -->
    <div class="how-it-works">
      <h2>How Certificate Verification Works</h2>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-number">1</div>
          <h3>Enter Certificate ID</h3>
          <p>Locate the unique certificate ID on your certificate document.</p>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <h3>Instant Verification</h3>
          <p>Our system instantly checks the certificate against our secure database.</p>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <h3>View Details</h3>
          <p>Get complete certificate information including course, recipient, and issue date.</p>
        </div>
      </div>
    </div>

    <!-- Security Notice -->
    <div class="security-notice-card">
      <div class="notice-icon">üõ°Ô∏è</div>
      <div class="notice-content">
        <h3>Certificate Security</h3>
        <p>All Learning Assure certificates are digitally signed and stored in our secure database. This verification system ensures that certificates cannot be forged or altered.</p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Learning Assure</h4>
          <p>Empowering educators to share knowledge worldwide.</p>
          <div class="social-links">
            <a href="#" class="social-link">üìò Facebook</a>
            <a href="#" class="social-link">üê¶ Twitter</a>
            <a href="#" class="social-link">üì∑ Instagram</a>
            <a href="#" class="social-link">üíº LinkedIn</a>
          </div>
        </div>
        <div class="footer-section">
          <h4>Platform</h4>
          <ul>
            <li><a href="catalog.html">Browse Courses</a></li>
            <li><a href="bundles.html">Course Bundles</a></li>
            <li><a href="learning_paths.html">Learning Paths</a></li>
            <li><a href="instructor-dashboard.html">Become an Instructor</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Community</h4>
          <ul>
            <li><a href="forum.html">Discussion Forum</a></li>
            <li><a href="#">Student Community</a></li>
            <li><a href="#">Instructor Hub</a></li>
            <li><a href="#">Events & Webinars</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Support</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">System Status</a></li>
            <li><a href="#">Feedback</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Legal</h4>
          <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Cookie Policy</a></li>
            <li><a href="#">Accessibility</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-bottom-content">
          <p>&copy; 2025 Learning Assure. All rights reserved.</p>
          <div class="footer-nav">
            <a href="#">About</a>
            <a href="#">Careers</a>
            <a href="#">Press</a>
            <a href="#">Investors</a>
            <a href="#">Blog</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Certificate Verifier
    const CertificateVerifier = {
      verifyCertificate() {
        const certificateId = document.getElementById('certificateId').value.trim();

        if (!certificateId) {
          this.showError('Please enter a certificate ID');
          return;
        }

        // Show loading state
        const verifyBtn = document.querySelector('.btn.primary');
        const originalText = verifyBtn.innerHTML;
        verifyBtn.innerHTML = '<span class="btn-icon">‚è≥</span> Verifying...';
        verifyBtn.disabled = true;

        // Simulate verification delay
        setTimeout(() => {
          this.performVerification(certificateId);
          verifyBtn.innerHTML = originalText;
          verifyBtn.disabled = false;
        }, 1500);
      },

      performVerification(certificateId) {
        const certificates = DataManager.get('certificates', []);
        const certificate = certificates.find(cert => cert.id === certificateId);

        const resultDiv = document.getElementById('verificationResult');

        if (!certificate) {
          this.showInvalidCertificate(resultDiv);
          return;
        }

        // Get course information
        const courses = DataManager.get('courses', []);
        const course = courses.find(c => c.id === certificate.courseId);

        // Get user information
        const users = DataManager.get('users', []);
        const user = users.find(u => u.id === certificate.userId);

        this.showValidCertificate(resultDiv, certificate, course, user);
      },

      showValidCertificate(resultDiv, certificate, course, user) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
          <div class="result-card valid">
            <div class="result-header">
              <div class="result-icon">‚úÖ</div>
              <h3>Valid Certificate</h3>
            </div>

            <div class="certificate-details">
              <div class="detail-row">
                <span class="detail-label">Certificate ID:</span>
                <span class="detail-value">${certificate.id}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Recipient:</span>
                <span class="detail-value">${user ? user.name : 'Unknown'}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Course:</span>
                <span class="detail-value">${course ? course.title : 'Unknown Course'}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Instructor:</span>
                <span class="detail-value">${course ? course.instructor : 'Unknown'}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Issue Date:</span>
                <span class="detail-value">${new Date(certificate.issuedAt).toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                })}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Grade:</span>
                <span class="detail-value">${certificate.grade || 'N/A'}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Status:</span>
                <span class="detail-value status-active">Active & Valid</span>
              </div>
            </div>

            <div class="certificate-actions">
              <button class="btn outline" onclick="CertificateVerifier.downloadCertificate('${certificate.id}')">
                <span class="btn-icon">‚¨á</span>
                Download Certificate
              </button>
              <button class="btn outline" onclick="CertificateVerifier.shareCertificate('${certificate.id}')">
                <span class="btn-icon">üì§</span>
                Share Verification
              </button>
            </div>
          </div>
        `;
      },

      showInvalidCertificate(resultDiv) {
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
          <div class="result-card invalid">
            <div class="result-header">
              <div class="result-icon">‚ùå</div>
              <h3>Certificate Not Found</h3>
            </div>

            <div class="error-message">
              <p>The certificate ID you entered could not be found in our database.</p>
              <p>This could mean:</p>
              <ul>
                <li>The certificate ID was entered incorrectly</li>
                <li>The certificate has not been issued yet</li>
                <li>The certificate may have been revoked</li>
              </ul>
            </div>

            <div class="error-actions">
              <p>Please check the certificate ID and try again, or contact support if you believe this is an error.</p>
              <button class="btn outline" onclick="CertificateVerifier.contactSupport()">
                <span class="btn-icon">üìß</span>
                Contact Support
              </button>
            </div>
          </div>
        `;
      },

      showError(message) {
        const resultDiv = document.getElementById('verificationResult');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
          <div class="result-card error">
            <div class="result-header">
              <div class="result-icon">‚ö†Ô∏è</div>
              <h3>Verification Error</h3>
            </div>
            <p>${message}</p>
          </div>
        `;
      },

      downloadCertificate(certificateId) {
        // In a real implementation, this would generate/download the certificate
        AppUtils.showInfo('Certificate download functionality coming soon!');
      },

      shareCertificate(certificateId) {
        // In a real implementation, this would share the verification link
        const shareUrl = `${window.location.origin}/verify.html?id=${certificateId}`;
        navigator.clipboard.writeText(shareUrl).then(() => {
          AppUtils.showSuccess('Verification link copied to clipboard!');
        }).catch(() => {
          AppUtils.showInfo(`Share this link: ${shareUrl}`);
        });
      },

      contactSupport() {
        // In a real implementation, this would open a support form or redirect
        AppUtils.showInfo('Support contact functionality coming soon!');
      }
    };

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      // Check if certificate ID is provided in URL
      const urlParams = new URLSearchParams(window.location.search);
      const certId = urlParams.get('id');

      if (certId) {
        document.getElementById('certificateId').value = certId;
        CertificateVerifier.verifyCertificate();
      }
    });
  </script>
</body>
</html>
